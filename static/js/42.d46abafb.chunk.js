(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[42],{121:function(e,s,a){"use strict";a.r(s);var t=a(23),r=a(50),n=a.n(r),c=a(51),o=a(4),i=a(17),l=a(1),d=a(148),u=a(20),j=a(53),p=a(11),b=a(0);s.default=function(e){var s=Object(l.useState)({email:"",password:"",isloading:!1,errorMessage:"",open:!1}),a=Object(i.a)(s,2),r=a[0],m=a[1],O=r.email,g=r.password,v=r.errorMessage,f=r.open,h=r.isloading,x=function(e){return e.preventDefault(),O?g?void w():m(Object(o.a)(Object(o.a)({},r),{},{errorMessage:"Password is required"})):m(Object(o.a)(Object(o.a)({},r),{},{errorMessage:"Email address is required"}))},w=function(){var e=Object(c.a)(n.a.mark((function e(){var s,a,t,c;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return m(Object(o.a)(Object(o.a)({},r),{},{isloading:!0})),s={username:O,password:g},e.prev=2,e.next=5,j.a.post("/login",s);case 5:a=e.sent,a.data.data,Object(p.f)(a.data.data),e.next=15;break;case 10:e.prev=10,e.t0=e.catch(2),console.log(e.t0),401==(null===e.t0||void 0===e.t0||null===(t=e.t0.response)||void 0===t?void 0:t.status)&&m(Object(o.a)(Object(o.a)({},r),{},{errorMessage:null===e.t0||void 0===e.t0||null===(c=e.t0.response)||void 0===c?void 0:c.message,isloading:!1})),m(Object(o.a)(Object(o.a)({},r),{},{isloading:!1,errorMessage:"failed to login"}));case 15:case"end":return e.stop()}}),e,null,[[2,10]])})));return function(){return e.apply(this,arguments)}}(),N=function(e){var s;m(Object(o.a)(Object(o.a)({},r),{},(s={},Object(t.a)(s,e.target.name,e.target.value),Object(t.a)(s,"errorMessage",""),s)))};return Object(b.jsx)(b.Fragment,{children:Object(b.jsx)("div",{className:"container-fluid lgwrap",children:Object(b.jsx)("div",{className:"row justify-center",children:Object(b.jsxs)("div",{className:"col-md-5 loginformbody",children:[Object(b.jsx)("div",{className:"ft1",children:"Welcome Back!"}),Object(b.jsx)("div",{className:"ft3",children:"Login to your Account"}),Object(b.jsxs)("form",{className:"form-wrapper",onSubmit:x,children:[Object(b.jsx)("div",{className:"form-header",children:v&&Object(b.jsx)("div",{className:"signinalertmssg",children:Object(b.jsx)(d.a,{variant:"danger",children:v})})}),Object(b.jsxs)("div",{className:"padded-signin-wrapper",children:[Object(b.jsxs)("label",{className:"inputlabel",children:[Object(b.jsx)("span",{className:"rdfrmlbl",children:" Email Address"}),Object(b.jsx)("input",{type:"text",name:"email",value:O,onChange:N,placeholder:"Enter your Email Address",size:60,className:"form-control forminput"})]}),Object(b.jsxs)("label",{className:"inputlabel",children:[Object(b.jsx)("span",{className:"rdfrmlbl",children:"Password"}),Object(b.jsx)("input",{type:f?"text":"password",name:"password",value:g,onChange:N,placeholder:"Enter your Password",size:60,className:"form-control forminput"})]}),Object(b.jsxs)("div",{className:"text-righ",children:[" ",Object(b.jsx)("span",{onClick:function(){m(Object(o.a)(Object(o.a)({},r),{},{open:!f}))},children:"\ud83d\udc41"})]}),Object(b.jsx)("div",{className:"forgotpassword",children:Object(b.jsx)(u.a,{to:"/forgot-password",children:"Forgot Password?"})}),Object(b.jsx)("div",{className:"form-btn-wrapper loginbtdv",children:Object(b.jsx)("input",{className:"signinbtn",type:"submit",onSubmit:x,value:h?"Logging in...":"Login"})}),Object(b.jsx)(u.a,{to:"/register"}),Object(b.jsx)("p",{className:"signuprgqt1",children:"\xa9 Drug Monitoring, 2021"})]})]})]})})})})}},52:function(e,s,a){"use strict";a.d(s,"b",(function(){return r})),a.d(s,"a",(function(){return n}));a(1);var t=a(12),r="https://medipharm-test.herokuapp.com/api",n=function(e){Object(t.b)(e)}},53:function(e,s,a){"use strict";var t=a(57),r=a.n(t),n=a(11),c=a(52),o=r.a.create();o.interceptors.request.use((function(e){return e.baseURL=c.b,console.log(e),"undefined"!==Object(n.d)()&&"/login"!==e.url&&"/changepassword"!==e.url&&(e.headers.Authorization=Object(n.d)()?"Bearer ".concat(Object(n.d)()):""),e.headers["Content-Type"]="application/json",e.headers.Accept="application/json",e}),(function(e){return Promise.reject(e)})),o.interceptors.response.use((function(e){return console.log(e),e}),(function(e){var s,a,t,r;return console.error("error_status",e.response),Object(c.a)(null===e||void 0===e||null===(s=e.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.message),401!==(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)&&404!==(null===e||void 0===e||null===(r=e.response)||void 0===r?void 0:r.status)||Object(c.a)("Failed to process please try again later"),Promise.reject(e)})),s.a=o}}]);
//# sourceMappingURL=42.d46abafb.chunk.js.map