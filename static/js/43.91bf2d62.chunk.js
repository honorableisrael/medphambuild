(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[43],{124:function(e,s,a){"use strict";a.r(s);var t=a(23),r=a(50),n=a.n(r),c=a(51),i=a(4),o=a(17),l=a(1),d=a(149),u=a(20),j=a(58),p=a(0);s.default=function(e){var s=Object(l.useState)({code:"",password:"",emailAddress:"",newPassword:"",isloading:!1,errorMessage:"",success:"",open:!1}),a=Object(o.a)(s,2),r=a[0],b=a[1],m=(r.code,r.emailAddress),O=r.newPassword,g=r.success,v=r.errorMessage,h=r.open,f=r.isloading,w=function(e){return e.preventDefault(),O?m?void x():b(Object(i.a)(Object(i.a)({},r),{},{errorMessage:"Email address is required"})):b(Object(i.a)(Object(i.a)({},r),{},{errorMessage:"New password is required"}))},x=function(){var s=Object(c.a)(n.a.mark((function s(){var a,t,c,o;return n.a.wrap((function(s){for(;;)switch(s.prev=s.next){case 0:return b(Object(i.a)(Object(i.a)({},r),{},{isloading:!0})),a={newPassword:O,emailAddress:m},s.prev=2,s.next=5,j.a.post("/changepassword/".concat(e.match.params.code),a);case 5:t=s.sent,t.data.data,console.log(t),b(Object(i.a)(Object(i.a)({},r),{},{success:"Password reset successful",isloading:!1})),setTimeout((function(){window.location.assign("/login")}),3e3),s.next=15;break;case 12:s.prev=12,s.t0=s.catch(2),b(Object(i.a)(Object(i.a)({},r),{},{errorMessage:(null===s.t0||void 0===s.t0||null===(c=s.t0.response)||void 0===c||null===(o=c.data)||void 0===o?void 0:o.newPassword)+"Password reset failed",isloading:!1}));case 15:case"end":return s.stop()}}),s,null,[[2,12]])})));return function(){return s.apply(this,arguments)}}(),N=function(e){var s;b(Object(i.a)(Object(i.a)({},r),{},(s={},Object(t.a)(s,e.target.name,e.target.value),Object(t.a)(s,"errorMessage",""),s)))};return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("div",{className:"container-fluid lgwrap",children:Object(p.jsx)("div",{className:"row justify-center",children:Object(p.jsxs)("div",{className:"col-md-5 loginformbody",children:[Object(p.jsx)("div",{className:"ft3",children:"Reset your password"}),Object(p.jsxs)("form",{className:"form-wrapper",onSubmit:w,children:[Object(p.jsxs)("div",{className:"form-header",children:[v&&Object(p.jsx)("div",{className:"signinalertmssg",children:Object(p.jsx)(d.a,{variant:"danger",children:v})}),g&&Object(p.jsx)("div",{className:"signinalertmssg",children:Object(p.jsx)(d.a,{variant:"info",children:g})})]}),Object(p.jsxs)("div",{className:"padded-signin-wrapper",children:[Object(p.jsxs)("label",{className:"inputlabel",children:[Object(p.jsxs)("span",{className:"rdfrmlbl",children:[" ","Email Address ",Object(p.jsx)("span",{className:"text-danger",children:"*"})," "]}),Object(p.jsx)("input",{type:"text",name:"emailAddress",value:m,onChange:N,placeholder:"Enter email",size:60,className:"form-control forminput"})]}),Object(p.jsxs)("label",{className:"inputlabel",children:[Object(p.jsxs)("span",{className:"rdfrmlbl",children:[" ","New Password ",Object(p.jsx)("span",{className:"text-danger",children:"*"})," "]}),Object(p.jsx)("input",{type:h?"text":"password",name:"newPassword",value:O,onChange:N,placeholder:"Enter new password",size:60,className:"form-control forminput"})]}),Object(p.jsxs)("div",{className:"text-righ",children:[" ",Object(p.jsx)("span",{onClick:function(){b(Object(i.a)(Object(i.a)({},r),{},{open:!h}))},children:"\ud83d\udc41"})]}),Object(p.jsx)("div",{className:"forgotpassword",children:Object(p.jsx)(u.a,{to:"/login",children:"Login "})}),Object(p.jsx)("div",{className:"form-btn-wrapper loginbtdv",children:Object(p.jsx)("input",{className:"signinbtn",type:"submit",onSubmit:w,value:f?"Submitting...":"Submit"})}),Object(p.jsx)("p",{className:"signuprgqt1",children:"\xa9 Drug Monitoring, 2021"})]})]})]})})})})}},57:function(e,s,a){"use strict";a.d(s,"b",(function(){return r})),a.d(s,"a",(function(){return n}));a(1);var t=a(12),r="https://medipharm-test.herokuapp.com/api",n=function(e){Object(t.b)(e)}},58:function(e,s,a){"use strict";var t=a(62),r=a.n(t),n=a(8),c=a(57),i=r.a.create();i.interceptors.request.use((function(e){return e.baseURL=c.b,console.log(e),"undefined"!==Object(n.d)()&&"/login"!==e.url&&"/changepassword"!==e.url&&(e.headers.Authorization=Object(n.d)()?"Bearer ".concat(Object(n.d)()):""),e.headers["Content-Type"]="application/json",e.headers.Accept="application/json",e}),(function(e){return Promise.reject(e)})),i.interceptors.response.use((function(e){return console.log(e),e}),(function(e){var s,a,t,r;return console.error("error_status",null===e||void 0===e?void 0:e.response),Object(c.a)(null===e||void 0===e||null===(s=e.response)||void 0===s||null===(a=s.data)||void 0===a?void 0:a.message),401!==(null===e||void 0===e||null===(t=e.response)||void 0===t?void 0:t.status)&&404!==(null===e||void 0===e||null===(r=e.response)||void 0===r?void 0:r.status)||Object(c.a)("Failed to process please try again later"),Promise.reject(e)})),s.a=i}}]);
//# sourceMappingURL=43.91bf2d62.chunk.js.map