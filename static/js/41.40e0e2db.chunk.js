(this["webpackJsonpmy-app"]=this["webpackJsonpmy-app"]||[]).push([[41],{123:function(e,s,t){"use strict";t.r(s);var a=t(23),r=t(50),n=t.n(r),c=t(51),i=t(4),o=t(17),l=t(1),d=t(148),u=t(20),j=t(53),p=t(0);s.default=function(e){var s=Object(l.useState)({email:"",isloading:!1,errorMessage:"",success:""}),t=Object(o.a)(s,2),r=t[0],b=t[1],m=r.email,v=r.success,O=r.errorMessage,g=r.isloading,h=function(e){if(e.preventDefault(),!m)return b(Object(i.a)(Object(i.a)({},r),{},{errorMessage:"Email address is required"}));f()},f=function(){var e=Object(c.a)(n.a.mark((function e(){var s,t;return n.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return b(Object(i.a)(Object(i.a)({},r),{},{isloading:!0})),e.prev=1,e.next=4,j.a.post("/requestpasswordreset/".concat(m));case 4:s=e.sent,s.data.data,b(Object(i.a)(Object(i.a)({},r),{},{success:"A token has been sent to the provided email address, please check your inbox to proceed",isloading:!1})),e.next=12;break;case 9:e.prev=9,e.t0=e.catch(1),404==(null===e.t0||void 0===e.t0||null===(t=e.t0.response)||void 0===t?void 0:t.status)&&b(Object(i.a)(Object(i.a)({},r),{},{errorMessage:"Failed to reset password, email does not exist",isloading:!1}));case 12:case"end":return e.stop()}}),e,null,[[1,9]])})));return function(){return e.apply(this,arguments)}}();return Object(p.jsx)(p.Fragment,{children:Object(p.jsx)("div",{className:"container-fluid lgwrap",children:Object(p.jsx)("div",{className:"row justify-center",children:Object(p.jsxs)("div",{className:"col-md-5 loginformbody",children:[Object(p.jsx)("div",{className:"ft1",children:"Forgot Password"}),Object(p.jsx)("div",{className:"ft3",children:"Recover your Account"}),Object(p.jsxs)("form",{className:"form-wrapper",onSubmit:h,children:[Object(p.jsxs)("div",{className:"form-header",children:[O&&Object(p.jsx)("div",{className:"signinalertmssg",children:Object(p.jsx)(d.a,{variant:"danger",children:O})}),v&&Object(p.jsx)("div",{className:"signinalertmssg",children:Object(p.jsx)(d.a,{variant:"info",children:v})})]}),Object(p.jsxs)("div",{className:"padded-signin-wrapper",children:[Object(p.jsxs)("label",{className:"inputlabel",children:[Object(p.jsxs)("span",{className:"rdfrmlbl",children:[" ","Email Address ",Object(p.jsx)("span",{className:"text-danger",children:"*"})," "]}),Object(p.jsx)("input",{type:"text",name:"email",value:m,onChange:function(e){var s;b(Object(i.a)(Object(i.a)({},r),{},(s={},Object(a.a)(s,e.target.name,e.target.value),Object(a.a)(s,"errorMessage",""),s)))},placeholder:"Enter your Email Address",size:60,className:"form-control forminput"})]}),Object(p.jsx)("div",{className:"forgotpassword",children:Object(p.jsx)(u.a,{to:"/login",children:"Login "})}),Object(p.jsx)("div",{className:"form-btn-wrapper loginbtdv",children:Object(p.jsx)("input",{className:"signinbtn",type:"submit",onSubmit:h,value:g?"Submitting...":"Submit"})}),Object(p.jsx)("p",{className:"signuprgqt1",children:"\xa9 Drug Monitoring, 2021"})]})]})]})})})})}},52:function(e,s,t){"use strict";t.d(s,"b",(function(){return r})),t.d(s,"a",(function(){return n}));t(1);var a=t(12),r="https://medipharm-test.herokuapp.com/api",n=function(e){Object(a.b)(e)}},53:function(e,s,t){"use strict";var a=t(57),r=t.n(a),n=t(11),c=t(52),i=r.a.create();i.interceptors.request.use((function(e){return e.baseURL=c.b,console.log(e),"undefined"!==Object(n.d)()&&"/login"!==e.url&&"/changepassword"!==e.url&&(e.headers.Authorization=Object(n.d)()?"Bearer ".concat(Object(n.d)()):""),e.headers["Content-Type"]="application/json",e.headers.Accept="application/json",e}),(function(e){return Promise.reject(e)})),i.interceptors.response.use((function(e){return console.log(e),e}),(function(e){var s,t,a,r;return console.error("error_status",e.response),Object(c.a)(null===e||void 0===e||null===(s=e.response)||void 0===s||null===(t=s.data)||void 0===t?void 0:t.message),401!==(null===e||void 0===e||null===(a=e.response)||void 0===a?void 0:a.status)&&404!==(null===e||void 0===e||null===(r=e.response)||void 0===r?void 0:r.status)||Object(c.a)("Failed to process please try again later"),Promise.reject(e)})),s.a=i}}]);
//# sourceMappingURL=41.40e0e2db.chunk.js.map